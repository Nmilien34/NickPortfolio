@tailwind base;
@tailwind components;
@tailwind utilities;

:root {
  --text-white: #ededed;
  --background-color: #131313;
  --stroke-border: #292929;
  --hover-state: #414141;
  --normal-text: #b3b3b3;
  --highlight-dark: #292929;
  --white-smoke: #e7e7e7;
  --background: 0 0% 7%;
  --foreground: 0 0% 70%;
  view-transition-name: root;
}

* {
  margin: 0;
  padding: 0;
  box-sizing: border-box;
}

html {
  display: block;
  -webkit-text-size-adjust: 100%;
  -ms-text-size-adjust: 100%;
  font-family: sans-serif;
}

body {
  background-color: var(--background-color);
  color: var(--normal-text);
  font-family: neue-haas-unica, 'IBM Plex Sans', ui-sans-serif, system-ui, -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, 'Helvetica Neue', Arial, 'Noto Sans', sans-serif;
  font-size: 14px;
  font-weight: 500;
  text-transform: none;
  line-height: 140%;
  -webkit-font-smoothing: antialiased;
  -moz-osx-font-smoothing: grayscale;
  /* Custom cursor - larger grayish shaded dot */
  cursor: url("data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' width='28' height='28' viewBox='0 0 28 28'%3E%3Cdefs%3E%3CradialGradient id='shade' cx='50%25' cy='50%25'%3E%3Cstop offset='0%25' stop-color='%23b3b3b3' stop-opacity='1'/%3E%3Cstop offset='40%25' stop-color='%23a0a0a0' stop-opacity='0.9'/%3E%3Cstop offset='60%25' stop-color='%23808080' stop-opacity='0.7'/%3E%3Cstop offset='80%25' stop-color='%23606060' stop-opacity='0.4'/%3E%3Cstop offset='100%25' stop-color='%23404040' stop-opacity='0.2'/%3E%3C/radialGradient%3E%3C/defs%3E%3Ccircle cx='14' cy='14' r='13' fill='url(%23shade)'/%3E%3Ccircle cx='14' cy='14' r='10' fill='%23b3b3b3' opacity='0.8'/%3E%3Ccircle cx='14' cy='14' r='7' fill='%23a0a0a0' opacity='0.6'/%3E%3Ccircle cx='14' cy='14' r='4.5' fill='%23808080' opacity='0.4'/%3E%3Ccircle cx='14' cy='14' r='2.5' fill='%23606060' opacity='0.3'/%3E%3C/svg%3E") 14 14, auto;
}

/* Ensure custom cursor works on all interactive elements */
a, button, [role="button"], input, textarea, select {
  cursor: url("data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' width='28' height='28' viewBox='0 0 28 28'%3E%3Cdefs%3E%3CradialGradient id='shade' cx='50%25' cy='50%25'%3E%3Cstop offset='0%25' stop-color='%23b3b3b3' stop-opacity='1'/%3E%3Cstop offset='40%25' stop-color='%23a0a0a0' stop-opacity='0.9'/%3E%3Cstop offset='60%25' stop-color='%23808080' stop-opacity='0.7'/%3E%3Cstop offset='80%25' stop-color='%23606060' stop-opacity='0.4'/%3E%3Cstop offset='100%25' stop-color='%23404040' stop-opacity='0.2'/%3E%3C/radialGradient%3E%3C/defs%3E%3Ccircle cx='14' cy='14' r='13' fill='url(%23shade)'/%3E%3Ccircle cx='14' cy='14' r='10' fill='%23b3b3b3' opacity='0.8'/%3E%3Ccircle cx='14' cy='14' r='7' fill='%23a0a0a0' opacity='0.6'/%3E%3Ccircle cx='14' cy='14' r='4.5' fill='%23808080' opacity='0.4'/%3E%3Ccircle cx='14' cy='14' r='2.5' fill='%23606060' opacity='0.3'/%3E%3C/svg%3E") 14 14, pointer;
}

@layer utilities {
  .text-balance {
    text-wrap: balance;
  }
}

@keyframes wave {
  0%, 100% {
    height: 10%;
  }
  50% {
    height: 100%;
  }
}

.animate-wave {
  animation: wave 1s ease-in-out infinite;
}

@keyframes street-light-journey {
  0% {
    offset-distance: 0%;
  }
  100% {
    offset-distance: 100%;
  }
}

/* Traffic lights - Each on different streets with turns, independent paths to avoid collisions */
/* Light 1: Left side, down then right at intersection */
.animate-traffic-light-1 {
  offset-path: path('M15,30 L15,35 L15,45 L30,45 L50,45 L70,45 L85,45');
  animation: street-light-journey 20s linear infinite;
  animation-delay: 0s;
  will-change: transform;
  transform: translateZ(0);
}

/* Light 2: Top, right then down at intersection */
.animate-traffic-light-2 {
  offset-path: path('M10,35 L15,35 L30,35 L30,45 L30,55 L30,65');
  animation: street-light-journey 18s linear infinite;
  animation-delay: -3s;
  will-change: transform;
  transform: translateZ(0);
}

/* Light 3: Right side, up then left at intersection */
.animate-traffic-light-3 {
  offset-path: path('M85,70 L85,65 L85,55 L70,55 L50,55 L30,55 L15,55');
  animation: street-light-journey 22s linear infinite;
  animation-delay: -5s;
  will-change: transform;
  transform: translateZ(0);
}

/* Light 4: Middle horizontal, left then up */
.animate-traffic-light-4 {
  offset-path: path('M90,45 L85,45 L70,45 L70,35 L70,30');
  animation: street-light-journey 19s linear infinite;
  animation-delay: -1.5s;
  will-change: transform;
  transform: translateZ(0);
}

/* Light 5: Second vertical, down then right */
.animate-traffic-light-5 {
  offset-path: path('M30,30 L30,35 L30,45 L30,55 L50,55 L70,55 L85,55');
  animation: street-light-journey 21s linear infinite;
  animation-delay: -7s;
  will-change: transform;
  transform: translateZ(0);
}

/* Light 6: Bottom horizontal, right then up */
.animate-traffic-light-6 {
  offset-path: path('M10,65 L15,65 L30,65 L50,65 L50,55 L50,45 L50,35');
  animation: street-light-journey 17s linear infinite;
  animation-delay: -2s;
  will-change: transform;
  transform: translateZ(0);
}

/* Light 7: Fourth vertical, up then left */
.animate-traffic-light-7 {
  offset-path: path('M70,70 L70,65 L70,55 L70,45 L50,45 L30,45 L15,45');
  animation: street-light-journey 23s linear infinite;
  animation-delay: -4.5s;
  will-change: transform;
  transform: translateZ(0);
}

/* Light 8: Third horizontal, left then down */
.animate-traffic-light-8 {
  offset-path: path('M90,55 L85,55 L70,55 L70,65 L70,70');
  animation: street-light-journey 20s linear infinite;
  animation-delay: -6.5s;
  will-change: transform;
  transform: translateZ(0);
}

@media (prefers-reduced-motion: reduce) {
  .animate-traffic-light-1,
  .animate-traffic-light-2,
  .animate-traffic-light-3,
  .animate-traffic-light-4,
  .animate-traffic-light-5,
  .animate-traffic-light-6,
  .animate-traffic-light-7,
  .animate-traffic-light-8 {
    animation: none;
  }
}

/* Custom scrollbar styling */
.scrollbar-thin::-webkit-scrollbar {
  width: 6px;
}

.scrollbar-thin::-webkit-scrollbar-track {
  background: transparent;
}

.scrollbar-thin::-webkit-scrollbar-thumb {
  background: rgba(255, 255, 255, 0.2);
  border-radius: 3px;
}

.scrollbar-thin::-webkit-scrollbar-thumb:hover {
  background: rgba(255, 255, 255, 0.3);
}

/* Firefox scrollbar */
.scrollbar-thin {
  scrollbar-width: thin;
  scrollbar-color: rgba(255, 255, 255, 0.2) transparent;
}
